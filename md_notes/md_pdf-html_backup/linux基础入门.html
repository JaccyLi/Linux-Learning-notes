<!DOCTYPE html>
<html>
<head>
<title>linux基础入门.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
	font-size: 14px;
	padding: 0 12px;
	line-height: 22px;
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}


body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	color: #4080D0;
	text-decoration: none;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
	font-size: inherit;
	line-height: auto;
}

a:hover {
	color: #4080D0;
	text-decoration: underline;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left: 5px solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 14px;
	line-height: 19px;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

.mac code {
	font-size: 12px;
	line-height: 18px;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

/** Theming */

.vscode-light,
.vscode-light pre code {
	color: rgb(30, 30, 30);
}

.vscode-dark,
.vscode-dark pre code {
	color: #DDD;
}

.vscode-high-contrast,
.vscode-high-contrast pre code {
	color: white;
}

.vscode-light code {
	color: #A31515;
}

.vscode-dark code {
	color: #D7BA7D;
}

.vscode-light pre:not(.hljs),
.vscode-light code > div {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre:not(.hljs),
.vscode-dark code > div {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre:not(.hljs),
.vscode-high-contrast code > div {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

.vscode-light blockquote,
.vscode-dark blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.vscode-high-contrast blockquote {
	background: transparent;
	border-color: #fff;
}
</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family:  "Meiryo", "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

</head>
<body>
<p>@[TOC](<center><font size=214 face=黑体 color=grey> Linux基础入门 </font></center>)</p>
<hr>
<blockquote>
<h1 id="%E4%B8%80linux%E7%94%A8%E6%88%B7%E7%B1%BB%E5%9E%8B">一.Linux用户类型</h1>
</blockquote>
<h2 id="1root-%E7%94%A8%E6%88%B7">1.root 用户</h2>
<blockquote>
<p>在linux中root用户属于一个特殊的管理帐户，也被称为超级用户。
root拥有接近百分之百的系统控制权限，对系统损害几乎有无限的能力。除非必要,一般不会使用root登录系统。</p>
</blockquote>
<h2 id="2%E6%99%AE%E9%80%9A%EF%BC%88-%E9%9D%9E%E7%89%B9%E6%9D%83-%EF%BC%89%E7%94%A8%E6%88%B7">2.普通（ 非特权 ）用户</h2>
<blockquote>
<p>普通用户权限有限，造成损害的能力比较有限。普通用户也可以在root或者管理员用户手偶全下成为管理员用户。</p>
</blockquote>
<hr>
<hr>
<blockquote>
<h1 id="%E4%BA%8Clinux%E4%B8%8B%E7%9A%84%E7%BB%88%E7%AB%AF%E7%A7%8D%E7%B1%BB%E4%BB%8B%E7%BB%8D">二.Linux下的终端种类介绍</h1>
</blockquote>
<pre class="hljs"><code><div>设备终端：键盘、鼠标、显示器
控制台终端： /dev/console
串行终端：/dev/ttyS#
虚拟终端：tty：teletypewriters， /dev/tty#，tty 可有n个，Ctrl+Alt+F#
图形终端：startx, xwindows
CentOS 6: Ctrl + Alt + F7
CentOS 7: 在哪个终端启动，即位于哪个虚拟终端
伪终端：pty：pseudo-tty ， /dev/pts/# 如：SSH远程连接
查看当前的终端设备：#tty
</div></code></pre>
<blockquote>
<blockquote>
<h2 id="%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%8E%A5%E5%8F%A3">交互式接口</h2>
</blockquote>
</blockquote>
<pre class="hljs"><code><div>交互式接口：启动终端后，在终端设备附加的一个交互式应用程序
GUI：Graphic User Interface
X protocol, window manager, desktop
Desktop:
    GNOME (C, 图形库gtk)   # linux 桌面版有名的桌面环境之一
    KDE (C++,图形库qt)     # 同上
    XFCE (轻量级桌面)      # 同上
CLI：Command Line Interface    # 命令行接口
如：shell程序  就是一个命令行接口
</div></code></pre>
<hr>
<hr>
<blockquote>
<h1 id="%E4%B8%89shell%E4%BB%8B%E7%BB%8D">三.Shell介绍</h1>
</blockquote>
<h2 id="1%E4%BB%80%E4%B9%88%E6%98%AFshell">1.什么是shell</h2>
<blockquote>
<p>Shell 是Linux系统的用户界面，提供了用户与内核进行交互操作的一种接口。它接收用户输入的命令并把它送入内核去执行<br>
shell也被称为LINUX的命令解释器（command interpreter）,是一种高级程序设计语言。</p>
</blockquote>
<div align="center">
<img src="https://img-blog.csdnimg.cn/20190923194838984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lvdU9vcHM=,size_16,color_FFFFFF,t_70" height="260" width="260" >
</div>
<center><font size=4 face=黑体 color=grey> shell处于内核和用户之间 </font></center>
<h2 id="2%E5%90%84%E7%A7%8Dshell%E5%8F%8A%E5%85%B6%E5%88%86%E6%94%AF">2.各种shell及其分支</h2>
<div align="center">
<img src="https://img-blog.csdnimg.cn/2019092319524283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lvdU9vcHM=,size_16,color_FFFFFF,t_70" height="350" width="1100" >
</div>
<center><font size=4 face=黑体 color=grey> 从1977年到2003年各种衍生于shell的不同shell版本示意 </font></center>
<h2 id="3bash-shell%E7%AE%80%E4%BB%8B">3.bash shell简介</h2>
<blockquote>
<p>bash shell是目前linux系统的标配shell，其起源于GNU Bourne-Again Shell(bash)；是GNU计划中重要的工具软件之一，与sh兼容。<br>
CentOS默认使用 bash shell</p>
</blockquote>
<pre class="hljs"><code><div>在bash shell中显示当前使用的shell
echo ${SHELL}
显示当前系统使用的所有shell
cat /etc/shells
主机名示例
bj-yz-k8s-node1-100-10.magedu.com
</div></code></pre>
<ul>
<li>注意：主机名不建议用下划线</li>
</ul>
<h2 id="4bash-shell%E7%9A%84%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E8%AE%A4%E8%AF%86%E8%AE%A4%E8%AF%86">4.bash shell的命令提示符认识认识</h2>
<pre class="hljs"><code><div>命令提示符：prompt
[root@localhost ~]#
        # 管理员
        $ 普通用户
显示提示符格式
[root@localhost ~]#echo $PS1
修改提示符格式
PS1=&quot;\[\e[1;5;41;33m\][\u@\h \W]\\$\[\e[0m\]&quot;
PS1=&quot;\[\e[1;32m\][\[\e[0m\]\t \[\e[1;33m\]\u\[\e[36m\]@\h\[\e[1;31m\] \W\[\e[1;32m\]]\[\e[0m\]\\$&quot;
\e 控制符\033     \u 当前用户
\h 主机名简称     \H 主机名
\w 当前工作目录   \W 当前工作目录基名
\t 24小时时间格式 \T 12小时时间格式
\! 命令历史数     \# 开机后命令历史数
</div></code></pre>
<hr>
<hr>
<blockquote>
<h1 id="%E5%9B%9Bshell%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4">四.shell执行命令</h1>
</blockquote>
<h2 id="1%E5%9C%A8shell%E4%B8%AD%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4">1.在shell中执行命令</h2>
<pre class="hljs"><code><div>&gt; 输入命令后回车
    shell程序找到键入命令所对应的可执行程序或代码，并由其分析后提交给内核分配资源将其运行起来
&gt; 在shell中可执行的命令有两类
    内部命令：由shell自带的，而且通过某命令形式提供
        <span class="hljs-built_in">help</span> 内部命令列表   <span class="hljs-comment"># 查询内部命令的帮助文档</span>
        <span class="hljs-built_in">enable</span> cmd 启用内部命令
        <span class="hljs-built_in">enable</span> –n cmd 禁用内部命令
        <span class="hljs-built_in">enable</span> –n 查看所有禁用的内部命令
    外部命令：在文件系统路径下有对应的可执行程序文件
        查看路径：<span class="hljs-built_in">which</span> -a |--skip-alias ; whereis
&gt; 区别指定的命令是内部或外部命令
    <span class="hljs-built_in">type</span> COMMAND
</div></code></pre>
<h2 id="2%E6%89%A7%E8%A1%8C%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4">2.执行外部命令</h2>
<ul>
<li>Hash缓存表</li>
</ul>
<blockquote>
<p>系统刚启动时hash表为空，当外部命令执行时，bash默认会从PATH路径下寻找该命令，找到后会将这条命令的路径记录到hash表中。当再次使用该命令时，shell解释器首先会查看hash表，存在将执行之，如果不存在，将会去PATH路径下寻找，利用hash缓存表可大大提高命令的调用速率。</p>
</blockquote>
<pre class="hljs"><code><div><span class="hljs-built_in">hash</span>常见用法
    <span class="hljs-built_in">hash</span> 显示<span class="hljs-built_in">hash</span>缓存
    <span class="hljs-built_in">hash</span> -l 显示<span class="hljs-built_in">hash</span>缓存，可作为输入使用
    <span class="hljs-built_in">hash</span> -p path name 将命令全路径path起别名为name
    <span class="hljs-built_in">hash</span> -t name 打印缓存中name的路径
    <span class="hljs-built_in">hash</span> -d name 清除name缓存
    <span class="hljs-built_in">hash</span> -r 清除缓存
</div></code></pre>
<h2 id="3%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D">3.命令别名</h2>
<pre class="hljs"><code><div>显示当前shell进程所有可用的命令别名
    <span class="hljs-built_in">alias</span>
定义别名NAME，其相当于执行命令VALUE
    <span class="hljs-built_in">alias</span> NAME=<span class="hljs-string">'VALUE'</span>
在命令行中定义的别名，仅对当前shell进程有效
    如果想永久有效，要定义在配置文件中
          仅对当前用户：~/.bashrc
        对所有用户有效：/etc/bashrc

编辑配置文件给出的新配置不会立即生效
如果要不重启电脑的情况下是配置文件生效，则可以让bash进程重新读取配置文件：
    <span class="hljs-built_in">source</span> /path/to/config_file
    . /path/to/config_file
    此处soure和.都是shell built-in类型
撤消别名：<span class="hljs-built_in">unalias</span>
    <span class="hljs-built_in">unalias</span> [-a] name [name ...]
            -a 取消所有别名
别名同原命令同名的情况下，如果要执行原命令，可使用
    \ALIASNAME
    “ALIASNAME”
    ‘ALIASNAME’
    <span class="hljs-built_in">command</span> ALIASNAME
    /path/commmand
</div></code></pre>
<h2 id="4%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F">4.命令格式</h2>
<pre class="hljs"><code><div>COMMAND [OPTIONS...] [ARGUMENTS...]
    选项：用于启用或关闭命令的某个或某些功能
        短选项：UNIX 风格选项，-c 例如：-l, -h
        长选项：GNU风格选项，--word 例如：--all, --human
        BSD风格选项： 一个字母，例如：a
    参数：命令的作用对象，比如文件名，用户名等
注意：
多个选项以及多参数和命令之间使用空白字符分隔
取消和结束命令执行：Ctrl+c，Ctrl+d
多个命令可以用;符号分开
一个命令可以用\分成多行
</div></code></pre>
<pre class="hljs"><code><div>[root@centos7 ~]<span class="hljs-variable">$echo</span> hello; <span class="hljs-built_in">echo</span> hi
hello
hi
[root@centos7 ~]<span class="hljs-variable">$host</span>\
&gt; na\
&gt; me
centos7.steve
</div></code></pre>
<hr>
<hr>
<blockquote>
<h1 id="%E4%BA%94%E8%8E%B7%E5%8F%96%E5%91%BD%E4%BB%A4%E7%9A%84%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3">五.获取命令的帮助文档</h1>
</blockquote>
<blockquote>
<p><strong>type 判断command是内部还是外部命令</strong></p>
<blockquote>
<p>内部命令 help command</p>
</blockquote>
<blockquote>
<p>外部命令 whatis --&gt; command --help --&gt; man -f -k ...</p>
</blockquote>
</blockquote>
<ul>
<li>各个帮助的类型</li>
</ul>
<pre class="hljs"><code><div>命令帮助
    内部命令：<span class="hljs-built_in">help</span> COMMAND 或 man bash
    外部命令：COMMAND --<span class="hljs-built_in">help</span> 或 COMMAND -h
(2) 使用手册(manual)
    man COMMAND
(3) 信息页
    info COMMAND
(4) 程序自身的帮助文档
    README
    INSTALL
    ChangeLog
(5) 程序官方文档
    官方站点：Documentation
(6) 发行版的官方文档
(7) Google

</div></code></pre>
<hr>
<hr>
<blockquote>
<h1 id="%E5%85%AD%E7%BB%83%E4%B9%A0">六.练习</h1>
</blockquote>
<blockquote>
<p>1、显示当前时间，格式：2016-06-18 10:20:30</p>
<blockquote>
<p>date +%F\ %T</p>
</blockquote>
</blockquote>
<blockquote>
<p>2、显示前天是星期几</p>
<blockquote>
<p>date -d '-2 day' +%A</p>
</blockquote>
</blockquote>
<blockquote>
<p>3、设置当前日期为2019-08-07 06:05:10</p>
<blockquote>
<p>date 080706052019.30</p>
</blockquote>
</blockquote>
<hr>
<hr>
<blockquote>
<h1 id="%E4%B8%83man">七.man</h1>
</blockquote>
<h2 id="1man%E5%91%BD%E4%BB%A4">1.man命令</h2>
<pre class="hljs"><code><div>man命令提供完整的命令帮助信息，手册页存放在/usr/share/man；几乎每个命令都有man的“页面”，man页面分组为不同的“章节”，统称为Linux手册。
    man命令的配置文件：/etc/man.config | man_db.conf
    MANPATH /PATH/TO/SOMEWHERE: 指明man文件搜索位置
    man -M /PATH/TO/SOMEWHERE COMMAND: 到指定位置下搜索COMMAND命令的手册页并显示
</div></code></pre>
<h2 id="2man-%E7%AB%A0%E8%8A%82">2.man 章节</h2>
<ul>
<li>man帮助分为9个章节，带(p)标识的章节属于开发人员帮助手册</li>
</ul>
<pre class="hljs"><code><div>man 1：用户命令
man 2：系统调用
man 3：C库调用
man 4：设备文件及特殊文件
man 5：配置文件格式
man 6：游戏
man 7：杂项
man 8：管理类的命令
man 9：Linux 内核API
</div></code></pre>
<h2 id="3man%E5%B8%AE%E5%8A%A9%E6%AE%B5%E8%90%BD%E8%AF%B4%E6%98%8E">3.man帮助段落说明</h2>
<pre class="hljs"><code><div>帮助手册中的段落说明：
    NAME 名称及简要说明
    SYNOPSIS 用法格式说明
        •[] 可选内容
        •&lt;&gt; 必选内容
        •a|b 二选一
        •{ } 分组
        •... 同一内容可出现多次
    DESCRIPTION 详细说明
    OPTIONS 选项说明
    EXAMPLES 示例
    FILES 相关文件
    AUTHOR 作者
    COPYRIGHT 版本信息
    REPORTING BUGS bug信息
    SEE ALSO 其它帮助参考
</div></code></pre>
<h2 id="4man%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8">4.man帮助命令使用</h2>
<pre class="hljs"><code><div>查看man手册页
    man [章节] keyword
列出所有帮助
    man –a keyword
搜索man手册
    man -k keyword 列出所有匹配的页面
使用 whatis 数据库;相当于whatis
    man –f keyword
打印man帮助文件的路径
    man –w [章节] keyword
</div></code></pre>
<h2 id="5%E9%80%9A%E8%BF%87%E5%9C%A8%E7%BA%BF%E6%96%87%E6%A1%A3%E8%8E%B7%E5%8F%96%E5%B8%AE%E5%8A%A9">5.通过在线文档获取帮助</h2>
<ul>
<li>
<p>第三方应用官方文档<br>
<a href="http://httpd.apache.org">apache</a><br>
<a href="http://www.nginx.org">nginx</a><br>
<a href="https://mariadb.com/kb/en">Mariadb</a><br>
<a href="https://dev.mysql.com/doc/">mysql</a><br>
<a href="http://tomcat.apache.org">tomcat</a><br>
<a href="http://www.python.org">python</a><br>
通过发行版官方的文档光盘或网站可以获得
安装指南、部署指南、虚拟化指南等.</p>
</li>
<li>
<p>红帽知识库和官方在线文档<br>
<a href="http://kbase.redhat.com">http://kbase.redhat.comt</a><br>
<a href="http://www.redhat.com/docs">http://www.redhat.com/docs</a><br>
<a href="http://access.redhat.com">http://access.redhat.com</a><br>
<a href="https://help.ubuntu.com/lts/serverguide/index.html">https://help.ubuntu.com/lts/serverguide/index.html</a></p>
</li>
</ul>
<hr>
<hr>
<h1 id="%E5%85%AB%E7%BB%83%E4%B9%A0">八.练习</h1>
<blockquote>
<p>1、在本机字符终端登录时，除显示原有信息外，再显示当前登录终端号，主机名和当前时间</p>
<blockquote>
<p>man -k issue --&gt; man 8 pam_issue<br>
\l --tty<br>
\n --hostname<br>
\t --time<br>
vim /etc/issue</p>
</blockquote>
</blockquote>
<blockquote>
<p>2、今天18：30自动关机，并提示用户</p>
<blockquote>
<p>shutdown 18:30 wall &quot;System will shutdown at 18:30!!&quot;</p>
</blockquote>
</blockquote>
<hr>
<hr>
<h1 id="%E4%B9%9D%E7%AE%80%E5%8D%95%E7%9A%84%E5%B0%8F%E5%91%BD%E4%BB%A4">九.简单的小命令</h1>
<h2 id="1%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF">1.关机重启</h2>
<pre class="hljs"><code><div>关机：halt, poweroff

重启：reboot
    -f: 强制，不调用shutdown
    -p: 切断电源

关机或重启：shutdown
shutdown [OPTION]... [TIME] [MESSAGE]
    -r: reboot
    -h: halt
    -c：cancel
    TIME：无指定，默认相当于+1（CentOS7）
    now: 立刻,相当于+0
    +m: 相对时间表示法，几分钟之后；例如 +3
    hh:mm: 绝对时间表示，指明具体时间
</div></code></pre>
<h2 id="2%E6%9F%A5%E7%9C%8B%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF">2.查看登录信息</h2>
<pre class="hljs"><code><div>用户登录信息查看命令：
whoami: 显示当前登录有效用户
who: 系统当前所有的登录会话
w: 系统当前所有的登录会话及所做的操作1
</div></code></pre>
<h2 id="3screen%E5%91%BD%E4%BB%A4">3.screen命令</h2>
<ul>
<li>screen命令可以用来在同一台服务器上互相协助处理问题</li>
</ul>
<pre class="hljs"><code><div>创建新screen会话
    screen –S [SESSION]
加入screen会话
    screen –x [SESSION]
退出并关闭screen会话
    <span class="hljs-built_in">exit</span>
剥离当前screen会话
    Ctrl+a,d
显示所有已经打开的screen会话
    screen -ls
恢复某screen会话
    screen -r [SESSION]
</div></code></pre>
<h2 id="4echo%E5%91%BD%E4%BB%A4">4.echo命令</h2>
<pre class="hljs"><code><div>功能：显示字符
    语法：<span class="hljs-built_in">echo</span> [-neE][字符串]
    说明：<span class="hljs-built_in">echo</span>会将输入的字符串送往标准输出。输出的字符串间以空白字符隔开, 并在最后加上换行号
选项：
    -E （默认）不支持 \ 解释功能
    -n 不自动换行
    -e 启用 \ 字符的解释功能
显示变量
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$VAR_NAME</span>” 变量会替换，弱引用
    decho '<span class="hljs-variable">$VAR_NAME</span>' 变量不会替换，强引用

启用命令选项-e，若字符串中出现以下字符，则特别加以处理，而不会将它当成一般文字输出:
    \a 发出警告声
    \b 退格键
    \c 最后不加上换行符号
    \e escape，相当于\033
    \n 换行且光标移至行首
    \r 回车，即光标移至行首，但不换行
    \t 插入tab
    \\ 插入\字符
    \0nnn 插入nnn（八进制）所代表的ASCII字符
    echo -e '\033[43;31;5mmagedu\e[0m'
    \xHH插入HH（十六进制）所代表的ASCII数字（man 7 ascii）
</span></div></code></pre>
<h2 id="5ascii%E7%A0%81%E8%A1%A8">5.ASCII码表</h2>
<ul>
<li>ASCII：American Standard Code for Information Interchange</li>
</ul>
<div align="center">
<img src="https://img-blog.csdnimg.cn/20190924083545298.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lvdU9vcHM=,size_16,color_FFFFFF,t_70" height="450" width="1100" >
</div>
<h2 id="6%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E7%BC%96%E7%A0%81">6.字符集和编码</h2>
<ul>
<li>UTF-8 在计算机上存储时可以占用1、2、3或者4个字节</li>
<li>UTF-16 在计算机上存储时占用2或4个字节</li>
<li>UTF-32 全部存储为4个字节</li>
<li>一般在网络中传输数据时使用utf-8格式传输</li>
<li>读取数据在内存中处理时以unicode格式存储</li>
<li>编码转换和查询<br>
<a href="http://www.chi2ko.com/tool/CJK.htm">http://www.chi2ko.com/tool/CJK.htm</a><br>
<a href="https://javawind.net/tools/native2ascii.jsp?action=transform">https://javawind.net/tools/native2ascii.jsp?action=transform</a><br>
<a href="http://tool.oschina.net/encode">http://tool.oschina.net/encode</a></li>
</ul>
<hr>
<hr>
<h1 id="%E5%8D%81%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E7%AE%80%E4%BB%8B">十.命令历史简介</h1>
<h2 id="1%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E6%98%AFshell%E7%9A%84%E7%89%B9%E6%80%A7%E4%B9%8B%E4%B8%80">1.命令历史是shell的特性之一</h2>
<ul>
<li>保存你输入的命令历史。可以用它来重复执行命令</li>
<li>登录shell时，会读取命令历史文件中记录下的命令~/.bash_history</li>
<li>登录进shell后新执行的命令只会记录在缓存中；这些命令会用户退出时“追加”至命令历史文件中</li>
</ul>
<h2 id="2%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E7%9A%84%E4%BD%BF%E7%94%A8">2.命令历史的使用</h2>
<pre class="hljs"><code><div>重复前一个命令，有4种方法
    重复前一个命令使用上方向键，并回车执行
    按 !! 并回车执行
    输入 !-1 并回车执行
    按 Ctrl+p 并回车执行
    !:0 执行前一条命令（去除参数）
    !n 执行<span class="hljs-built_in">history</span>命令输出对应序号n的命令
    !-n 执行<span class="hljs-built_in">history</span>历史中倒数第n个命令

    !string 重复前一个以“string”开头的命令
    !?string 重复前一个包含string的命令
    !string:p 仅打印命令历史，而不执行
    !$:p 打印输出 !$ （上一条命令的最后一个参数）的内容
    !*:p 打印输出 !*（上一条命令的所有参数）的内容
    ^string 删除上一条命令中的第一个string
    ^string1^string2 将上一条命令中的第一个string1替换为string2
    !:gs/string1/string2 将上一条命令中所有的string1都替换为 string2

    使用up（向上）和down（向下）键来上下浏览从前输入的命令
    ctrl-r来在命令历史中搜索命令
        （reverse-i-search）`<span class="hljs-string">':
    Ctrl+g：从历史搜索模式退出
    要重新调用前一个命令中最后一个参数
    !$ 表示
    Esc, .（点击Esc键后松开，然后点击 . 键）
    Alt+ .（按住Alt键的同时点击 . 键）
</span></div></code></pre>
<h2 id="3%E8%B0%83%E7%94%A8%E5%8E%86%E5%8F%B2%E5%8F%82%E6%95%B0">3.调用历史参数</h2>
<pre class="hljs"><code><div><span class="hljs-built_in">command</span> !^ 利用上一个命令的第一个参数做cmd的参数
<span class="hljs-built_in">command</span> !$ 利用上一个命令的最后一个参数做cmd的参数
<span class="hljs-built_in">command</span> !* 利用上一个命令的全部参数做cmd的参数
<span class="hljs-built_in">command</span> !:n 利用上一个命令的第n个参数做cmd的参数
<span class="hljs-built_in">command</span> !n:^ 调用第n条命令的第一个参数
<span class="hljs-built_in">command</span> !n:$ 调用第n条命令的最后一个参数
<span class="hljs-built_in">command</span> !n:m 调用第n条命令的第m个参数
<span class="hljs-built_in">command</span> !n:* 调用第n条命令的所有参数
<span class="hljs-built_in">command</span> !string:^ 从命令历史中搜索以 string 开头的命令，并获取它的第一个参数
<span class="hljs-built_in">command</span> !string:$ 从命令历史中搜索以 string 开头的命令,并获取它的最后一个参数
<span class="hljs-built_in">command</span> !string:n 从命令历史中搜索以 string 开头的命令，并获取它的第n个参数
<span class="hljs-built_in">command</span> !string:* 从命令历史中搜索以 string 开头的命令，并获取它的所有参数
调用历史参数
</div></code></pre>
<h2 id="4%E6%89%93%E5%8D%B0%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E5%88%97%E8%A1%A8%E7%9A%84%E5%91%BD%E4%BB%A4history">4.打印历史命令列表的命令history</h2>
<pre class="hljs"><code><div><span class="hljs-built_in">history</span> [-c] [-d offset] [n]
<span class="hljs-built_in">history</span> -anrw [filename]
<span class="hljs-built_in">history</span> -ps arg [arg...]
    -c: 清空命令历史
    -d offset: 删除历史中指定的第offset个命令
    n: 显示最近的n条历史
    -a: 追加本次会话新执行的命令历史列表至历史文件
    -r: 读历史文件附加到历史列表
    -w: 保存历史列表到指定的历史文件
    -n: 读历史文件中未读过的行到历史列表
    -p: 展开历史参数成多行，但不存在历史列表中
    -s: 展开历史参数成一行，附加在历史列表后`
</div></code></pre>
<h2 id="5%E4%B8%8E%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E7%9B%B8%E5%85%B3%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">5.与命令历史相关的环境变量</h2>
<pre class="hljs"><code><div>HISTSIZE：命令历史记录的条数
HISTFILE：指定历史文件，默认为~/.bash_history
HISTFILESIZE：命令历史文件记录历史的条数
HISTTIMEFORMAT=“%F %T “ 显示时间
HISTIGNORE=“str1:str2*:… “ 忽略str1命令，str2开头的历史
控制命令历史的记录方式：
环境变量：HISTCONTROL 可选值：
    ignoredups 默认，忽略重复的命令，连续且相同为“重复”
    ignorespace 忽略所有以空白开头的命令
    ignoreboth 相当于ignoredups, ignorespace的组合
    erasedups 删除重复命令
<span class="hljs-built_in">export</span> 变量名=<span class="hljs-string">"值“
编辑后可以存放在 /etc/profile（全局有效） 或 ~/.bash_profile（某个用户有效）
</span></div></code></pre>
<blockquote>
<h2 id="6bash%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%88%97%E8%A1%A8">6.bash快捷键列表</h2>
</blockquote>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ctrl + l</td>
<td>清屏，相当于clear命令</td>
</tr>
<tr>
<td>Ctrl + o</td>
<td>执行当前命令，并重新显示本命令</td>
</tr>
<tr>
<td>Ctrl + s</td>
<td>阻止屏幕输出，锁定</td>
</tr>
<tr>
<td>Ctrl + q</td>
<td>允许屏幕输出</td>
</tr>
<tr>
<td>Ctrl + c</td>
<td>终止命令</td>
</tr>
<tr>
<td>Ctrl + z</td>
<td>挂起命令</td>
</tr>
<tr>
<td>Ctrl + a</td>
<td>光标移到命令行首，相当于Home</td>
</tr>
<tr>
<td>Ctrl + e</td>
<td>光标移到命令行尾，相当于End</td>
</tr>
<tr>
<td>Ctrl + f</td>
<td>光标向右移动一个字符</td>
</tr>
<tr>
<td>Ctrl + b</td>
<td>光标向左移动一个字符</td>
</tr>
<tr>
<td>Alt + f</td>
<td>光标向右移动一个单词尾</td>
</tr>
<tr>
<td>Alt + b</td>
<td>光标向左移动一个单词首</td>
</tr>
<tr>
<td>Ctrl + xx</td>
<td>光标在命令行首和光标之间移动</td>
</tr>
<tr>
<td>Ctrl + u</td>
<td>从光标处删除至命令行首</td>
</tr>
<tr>
<td>Ctrl + k</td>
<td>从光标处删除至命令行尾</td>
</tr>
<tr>
<td>Alt + r</td>
<td>删除当前整行</td>
</tr>
<tr>
<td>Ctrl + w</td>
<td>从光标处向左删除至单词首</td>
</tr>
<tr>
<td>Alt + d</td>
<td>从光标处向右删除至单词尾</td>
</tr>
<tr>
<td>Ctrl + d</td>
<td>删除光标处的一个字符</td>
</tr>
<tr>
<td>Ctrl + h</td>
<td>删除光标前的一个字符</td>
</tr>
<tr>
<td>Ctrl + y</td>
<td>将删除的字符粘贴至光标后</td>
</tr>
<tr>
<td>Alt + c</td>
<td>从光标处开始向右更改为首字母大写的单词</td>
</tr>
<tr>
<td>Alt + u</td>
<td>从光标处开始，将右边一个单词更改为大写</td>
</tr>
<tr>
<td>Alt + l</td>
<td>从光标处开始，将右边一个单词更改为小写</td>
</tr>
<tr>
<td>Ctrl + t</td>
<td>交换光标处和之前的字符位置</td>
</tr>
<tr>
<td>Alt + t</td>
<td>交换光标处和之前的单词位置</td>
</tr>
<tr>
<td>Alt + N</td>
<td>提示输入指定字符后，重复显示该字符N次</td>
</tr>
<tr>
<td>注意</td>
<td>Alt组合快捷键经常和其它软件冲突</td>
</tr>
</tbody>
</table>

</body>
</html>
