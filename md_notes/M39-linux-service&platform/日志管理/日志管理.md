centos7.7(172.20.1.193) --- rsyslog 日志服务器
centos8(172.20.1.191)--- mysql 服务器

```bash
centos7.7(172.20.1.193) --- 日志服务器
[root@localhost ~]# yum install rsyslog-mysql
[root@localhost ~]# rpm -ql rsyslog-mysql
/usr/lib64/rsyslog/ommysql.so
/usr/share/doc/rsyslog-8.24.0/mysql-createDB.sql
[root@localhost ~]# scp /usr/share/doc/rsyslog-8.24.0/mysql-createDB.sql 172.20.1.191:/data/
[root@localhost ~]# vim /etc/rsyslog.conf
#### MODULES ####
...
##########custom##########
$ModLoad ommysql
...
#### RULES ####
...
#########custom rules##########
*.info                                                  :ommysql:172.20.1.191,Syslog,rsyslog,stevenux

centos8(172.20.1.191)--- mysql 服务器
MariaDB [Syslog]> source /data/mysql-createDB.sql
MariaDB [Syslog]> GRANT ALL ON Syslog.* TO 'rsyslog'@'172.20.1.193' IDENTIFIED BY 'stevenux';
MariaDB [Syslog]> FLUSH privileges;
MariaDB [Syslog]> SHOW tables;
+------------------------+
| Tables_in_Syslog       |
+------------------------+
| SystemEvents           |
| SystemEventsProperties |
+------------------------+

centos7.7(172.20.1.193) --- 日志服务器
[root@localhost ~]# logger "hello this is a test message"

centos8(172.20.1.191)--- mysql 服务器
MariaDB [Syslog]> select * from SystemEvents\G
*************************** 4. row ***************************
                ID: 4
        CustomerID: NULL
        ReceivedAt: 2019-12-16 21:22:49
DeviceReportedTime: 2019-12-16 21:22:49
          Facility: 1
          Priority: 5
          FromHost: localhost
           Message: hello this is a test message
        NTSeverity: NULL
        Importance: NULL
       EventSource: NULL
         EventUser: NULL
     EventCategory: NULL
           EventID: NULL
   EventBinaryData: NULL
      MaxAvailable: NULL
         CurrUsage: NULL
          MinUsage: NULL
          MaxUsage: NULL
        InfoUnitID: 1
         SysLogTag: root:
      EventLogType: NULL
   GenericFileName: NULL
          SystemID: NULL
4 rows in set (0.00 sec)
```
